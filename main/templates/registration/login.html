{% extends 'base.html' %}

{% block content %}
<!-- Tambahkan script jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

{% if messages %}
  {% for message in messages %}
   {% if message.tags == 'success' %}
           <div class="alert alert-success absolute top-0 mt-2 successMessage" style="z-index:20;">
<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1.25 16.518l-4.5-4.319 1.396-1.435 3.078 2.937 6.105-6.218 1.421 1.409-7.5 7.626z"/></svg>
        <span>{{ message }}</span>
    </div>
    
    {% elif message.tags == 'error' %}
    <div class="alert alert-error z-20 top-0 absolute mt-2" id="errorMessage">
<svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" width="28" height="28" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.002 21.534c5.518 0 9.998-4.48 9.998-9.998s-4.48-9.997-9.998-9.997c-5.517 0-9.997 4.479-9.997 9.997s4.48 9.998 9.997 9.998zm0-8c-.414 0-.75-.336-.75-.75v-5.5c0-.414.336-.75.75-.75s.75.336.75.75v5.5c0 .414-.336.75-.75.75zm-.002 3c-.552 0-1-.448-1-1s.448-1 1-1 1 .448 1 1-.448 1-1 1z" fill-rule="nonzero"/></svg>
        <span>{{ message }}</span>
    </div>

   {% endif %}
   {% endfor %}
    <script>
        $(document).ready(function() {
            // Menghilangkan pesan sukses setelah 5 detik
            setTimeout(function() {
                $("#errorMessage").fadeOut(1000, function() {
                    $(this).remove();
                });
            }, 3000);
        });
    </script>
{% endif %}
<div class="container" style="margin-top: 72px;">
 
 <div class="hero">
  <div class="hero-content flex-col lg:flex-row-reverse">
    <div class="text-center lg:text-left">
      <h1 class="text-5xl font-bold">Login now!</h1>
      <p class="py-6">Provident cupiditate voluptatem et in. Quaerat fugiat ut assumenda excepturi exercitationem quasi. In deleniti eaque aut repudiandae et a id nisi.</p>
    </div>
{% if error_message %}
            <p style="color: red;">{{ error_message }}</p>
        {% endif %}
    <div class="card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100">
      <form method="post" class="card-body">
    {% csrf_token %}
    <div class="form-control">
        <label class="label">
            <span class="label-text">Username</span>
        </label>
        <input type="text" name="username" placeholder="username" class="input input-bordered" required />
    </div>
    <div class="form-control">
        <label class="label">
            <span class="label-text">Password</span>
        </label>
        <div class="flex">
            <input type="password" name="password" placeholder="password" class="input input-bordered w-4/5" id="login-pw" required />
            <div id="show-pw" class="w-1/5 mt-2 text-center py-1 px-2 border-0 border gray-100">show</div>
        </div>
        <label class="label">
            <a href="#" class="label-text-alt link link-hover">Forgot password?</a>
        </label>
    </div>
    <div class="form-control mt-6">
        <button class="btn btn-primary">Login</button>
    </div>
</form>
<p class="text-center text-sm" style="padding-bottom: 16px;">Belum Punya akun? <a class="text-primary font-bold" href="{% url 'register' %}">Daftar</a></p>
    </div>
  </div>
</div>
</div>
<script>
 const showPw = document.querySelector("#show-pw")
 const inputPw = document.querySelector("#login-pw")
 
 showPw.addEventListener('click', function(){
  if (inputPw.type == "password") {
  inputPw.type = "text"
   
  } else {
   inputPw.type = "password"
  }
 })
</script>

{% endblock %}